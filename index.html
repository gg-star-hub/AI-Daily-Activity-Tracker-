<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Beep & Flash Every 60 Seconds</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />
  <style>
    :root {
      --bg: #050510;
      --fg: #f5f5f5;
      --accent-1: #ff0044;
      --accent-2: #ff9900;
      --accent-3: #00e0ff;
      --accent-4: #5bff8a;
    }

    * {
      box-sizing: border-box;
    }

    body {
      margin: 0;
      min-height: 100vh;
      display: flex;
      align-items: center;
      justify-content: center;
      padding: 16px;
      background: radial-gradient(circle at top, #151530 0, #050510 50%, #000 100%);
      font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
      color: var(--fg);
    }

    #container {
      width: 100%;
      max-width: 480px;
      text-align: center;
    }

    #flash-img {
      width: min(65vw, 320px);
      height: min(65vw, 320px);
      margin: 0 auto 20px;
      border-radius: 24px;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: clamp(1.8rem, 8vw, 3rem);
      font-weight: 800;
      letter-spacing: 0.18em;
      text-indent: 0.18em;
      text-shadow: 0 0 12px rgba(0, 0, 0, 0.8);
      box-shadow:
        0 0 40px rgba(255, 0, 80, 0.5),
        0 0 80px rgba(0, 224, 255, 0.3);
      background:
        radial-gradient(circle at 20% 20%, #fffd, transparent 60%),
        radial-gradient(circle at 80% 80%, #0ffb, transparent 60%),
        linear-gradient(135deg, var(--accent-1), var(--accent-2), var(--accent-3));
      color: #fff;
      user-select: none;
    }

    /* Flash animation */
    #flash-img.flash {
      animation: flicker 0.1s linear 10;
    }

    @keyframes flicker {
      0%, 100% {
        opacity: 1;
        filter:
          drop-shadow(0 0 10px #fff)
          drop-shadow(0 0 24px #ffff99);
      }
      50% {
        opacity: 0.2;
        filter:
          drop-shadow(0 0 4px #fff)
          drop-shadow(0 0 40px #ffdd55);
      }
    }

    button {
      padding: 12px 28px;
      border-radius: 999px;
      border: none;
      cursor: pointer;
      font-size: 1rem;
      font-weight: 600;
      background: linear-gradient(135deg, var(--accent-3), var(--accent-4));
      color: #000;
      box-shadow: 0 0 16px rgba(0, 255, 160, 0.4);
      outline: none;
      min-width: 180px;
      touch-action: manipulation;
    }

    button:active {
      transform: scale(0.97);
      box-shadow: 0 0 8px rgba(0, 255, 160, 0.5);
    }

    button:disabled {
      opacity: 0.55;
      cursor: default;
      box-shadow: none;
    }

    #status {
      margin-top: 10px;
      font-size: 0.85rem;
      opacity: 0.8;
      line-height: 1.4;
    }

    /* Larger desktops: give it a bit more presence */
    @media (min-width: 900px) {
      #container {
        max-width: 560px;
      }
      #flash-img {
        width: 320px;
        height: 320px;
        font-size: 3rem;
      }
    }
  </style>
</head>
<body>
  <div id="container">
    <div id="flash-img">ALERT</div>
    <button id="start-btn">Start Alert</button>
    <p id="status">
      Tap “Start Alert” once to allow sound. You’ll get a beep + flash every 60 seconds.
    </p>
  </div>

  <script>
    const INTERVAL_MS = 60000;   // 60 seconds
    const BEEP_DURATION = 0.5;   // seconds
    const FLASH_DURATION = 1000; // ms

    const startBtn = document.getElementById("start-btn");
    const flashImg = document.getElementById("flash-img");
    const statusEl = document.getElementById("status");

    let audioCtx = null;
    let timerId = null;

    function ensureAudioContext() {
      if (!audioCtx) {
        audioCtx = new (window.AudioContext || window.webkitAudioContext)();
      } else if (audioCtx.state === "suspended") {
        audioCtx.resume();
      }
    }

    function beep() {
      ensureAudioContext();
      const osc = audioCtx.createOscillator();
      const gain = audioCtx.createGain();

      osc.type = "sine";
      osc.frequency.value = 440;   // Hz
      gain.gain.value = 0.25;      // volume

      osc.connect(gain);
      gain.connect(audioCtx.destination);

      osc.start();
      osc.stop(audioCtx.currentTime + BEEP_DURATION);
    }

    function flash() {
      flashImg.classList.add("flash");
      setTimeout(() => flashImg.classList.remove("flash"), FLASH_DURATION);
    }

    function alertTick() {
      beep();
      flash();
    }

    startBtn.addEventListener("click", () => {
      if (timerId !== null) return; // already running

      alertTick();                            // immediate first alert
      timerId = setInterval(alertTick, INTERVAL_MS);

      startBtn.disabled = true;
      statusEl.textContent = "Running: beep + flash every 60 seconds. Leave this page open.";
    });

    // Optional: resume audio on additional user interactions (for some mobile browsers)
    ["touchstart", "click"].forEach(evt =>
      document.addEventListener(evt, () => {
        if (audioCtx && audioCtx.state === "suspended") {
          audioCtx.resume();
        }
      }, { passive: true })
    );
  </script>
</body>
</html>
